<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solana AI Registries Documentation</title>
    <meta property="og:title" content="Solana AI Registries Documentation" />
    <meta property="og:description" content="Comprehensive documentation for the Solana AI Registries protocol, use cases, and $SVMAI token utility." />
    <meta property="og:image" content="./preview.png" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://aeamcp.com/docs.html" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <style>
        body {
            font-family: 'Courier New', Courier, monospace;
            background-color: #FFFFFF;
            color: #262626;
        }
        .header {
            background-color: #171717;
            padding: 1rem;
            color: white;
        }
        .nav-link {
            display: inline-block;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            border: 1px solid #525252;
            border-radius: 0.25rem;
            color: #A3A3A3;
            text-decoration: none;
            transition: all 0.2s ease;
            background-color: #262626;
        }
        .nav-link:hover {
            background-color: #737373;
            color: #FFFFFF;
            border-color: #737373;
        }
        .nav-link.active {
            background-color: #404040;
            color: #FFFFFF;
            font-weight: bold;
            border-color: #404040;
        }
        .main-container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        #content {
            padding: 2rem 0;
        }
        #markdown-content {
            background-color: #f5f5f5;
            padding: 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            line-height: 1.6;
        }
        #markdown-content h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #525252;
        }
        #markdown-content h2 {
            font-size: 1.5rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.25rem;
            border-bottom: 1px solid #737373;
        }
        #markdown-content h3 {
            font-size: 1.25rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        #markdown-content ul, #markdown-content ol {
            padding-left: 1.5rem;
            margin-bottom: 1rem;
        }
        #markdown-content ul {
            list-style-type: disc;
        }
        #markdown-content ol {
            list-style-type: decimal;
        }
        #markdown-content pre {
            background-color: #262626;
            color: #ffffff;
            padding: 1rem;
            border-radius: 0.25rem;
            overflow-x: auto;
            margin: 1rem 0;
        }
        #markdown-content code {
            background-color: #d4d4d4;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-family: monospace;
        }
        #markdown-content pre code {
            background-color: transparent;
            padding: 0;
        }
        #markdown-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
        }
        #markdown-content th, #markdown-content td {
            border: 1px solid #d4d4d4;
            padding: 0.5rem 1rem;
            text-align: left;
        }
        #markdown-content th {
            background-color: #e5e5e5;
        }
        #markdown-content blockquote {
            border-left: 4px solid #737373;
            padding-left: 1rem;
            margin: 1rem 0;
            color: #525252;
        }
        #markdown-content a {
            color: #0ea5e9;
            text-decoration: none;
        }
        #markdown-content a:hover {
            text-decoration: underline;
        }
        #sidebar {
            width: 250px;
            min-width: 250px;
            padding-right: 1.5rem;
        }

        /* Book-like styling */
        .book-layout {
            display: flex;
            flex-direction: column;
            margin: 0 auto;
        }

        .book-chapter {
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px dotted #737373;
        }

        .book-chapter:last-child {
            border-bottom: none;
        }

        .chapter-title {
            font-size: 1.5rem;
            color: #171717;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #525252;
            font-weight: bold;
        }

        .book-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #e5e5e5;
        }

        .book-nav a {
            padding: 0.5rem 1rem;
            border: 1px solid #d4d4d4;
            border-radius: 0.25rem;
            color: #525252;
            text-decoration: none;
            transition: all 0.2s ease;
        }

        .book-nav a:hover {
            background-color: #e5e5e5;
            color: #262626;
        }

        /* Diagram styling */
        .diagram-container {
            margin: 2rem 0;
            padding: 1rem;
            background-color: #ffffff;
            border: 1px solid #e5e5e5;
            border-radius: 0.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .diagram-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: #171717;
            text-align: center;
        }

        .diagram-description {
            margin-bottom: 1rem;
            color: #525252;
            font-size: 0.9rem;
            text-align: center;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin: 0 auto;
        }

        .infographic-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .infographic-block {
            border: 1px solid #A3A3A3;
            padding: 1rem;
            background-color: #FAFAFA;
        }

        .infographic-block-title {
            font-weight: bold;
            color: #171717;
            margin-bottom: 0.5rem;
            font-size: 1.05rem;
            border-bottom: 1px solid #D4D4D4;
            padding-bottom: 0.25rem;
        }
    </style>
</head>
<body>
    <header class="header">
        <nav class="main-container py-3 flex flex-col sm:flex-row sm:justify-between items-center">
            <a href="index.html" class="text-xl sm:text-2xl font-bold text-white hover:text-neutral-300 transition-colors text-center sm:text-left mb-3 sm:mb-0">Solana AI Registries Initiative</a>
            <div class="flex flex-col items-center space-y-2 sm:flex-row sm:space-y-0 sm:space-x-1 sm:flex-wrap text-sm sm:justify-end">
                <a href="index.html" class="nav-link">Main Page</a>
            </div>
        </nav>
    </header>

    <main class="main-container py-8">
        <div class="flex flex-col md:flex-row">
            <div id="sidebar" class="mb-6 md:mb-0">
                <h2 class="text-xl font-bold mb-4">Documentation</h2>
                <ul id="doc-nav" class="space-y-2"></ul>
            </div>
            <div id="content" class="flex-grow">
                <div id="markdown-content" class="prose max-w-none"></div>
            </div>
        </div>
    </main>

    <footer class="bg-neutral-800 text-white py-6">
        <div class="main-container text-center">
            <p>Â© 2024 Solana AI Registries Initiative. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Available documentation files
        const docFiles = [
            { id: 'readme', name: 'Overview', path: 'docs/README.md' },
            { id: 'protocol', name: 'Protocol Specification', path: 'docs/protocol-specification.md' },
            { id: 'svmai', name: '$SVMAI Token', path: 'docs/svmai-token.md' },
            { id: 'tokenomics', name: 'SVMAI Tokenomics', path: 'docs/svmai-tokenomics.md' },
            { id: 'usecases', name: 'Use Cases', path: 'docs/use-cases.md' },
            { id: 'developer', name: 'Developer Guide', path: 'docs/developer-guide.md' }
        ];

        // Create navigation sidebar
        const docNav = document.getElementById('doc-nav');
        docFiles.forEach(doc => {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = `#${doc.id}`;
            a.dataset.path = doc.path;
            a.className = 'block p-2 hover:bg-neutral-200 rounded';
            a.innerText = doc.name;
            a.addEventListener('click', (e) => {
                e.preventDefault();
                loadMarkdown(doc.path);
                
                // Update active state in navigation
                document.querySelectorAll('#doc-nav a').forEach(el => {
                    el.classList.remove('font-bold', 'bg-neutral-200');
                });
                a.classList.add('font-bold', 'bg-neutral-200');
                
                // Update URL hash
                window.location.hash = doc.id;
            });
            li.appendChild(a);
            docNav.appendChild(li);
        });

        // Function to load and render markdown content
        async function loadMarkdown(path) {
            try {
                const response = await fetch(path);
                if (!response.ok) {
                    throw new Error(`Failed to load ${path}: ${response.status} ${response.statusText}`);
                }
                const markdown = await response.text();
                document.getElementById('markdown-content').innerHTML = marked.parse(markdown);
                
                // Check if this is the tokenomics document
                if (path === 'docs/svmai-tokenomics.md') {
                    setTimeout(() => {
                        enhanceTokenomicsDocument();
                    }, 100);
                }
            } catch (error) {
                console.error('Error loading markdown:', error);
                document.getElementById('markdown-content').innerHTML = `
                    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
                        <h2 class="font-bold">Error Loading Document</h2>
                        <p>${error.message}</p>
                    </div>
                `;
            }
        }

        // Load default document or from hash
        window.addEventListener('DOMContentLoaded', () => {
            const hash = window.location.hash.substring(1);
            const defaultDoc = docFiles[0].path;
            
            let docToLoad = defaultDoc;
            let navItem = document.querySelector(`#doc-nav a[data-path="${defaultDoc}"]`);
            
            if (hash) {
                const matchingDoc = docFiles.find(doc => doc.id === hash);
                if (matchingDoc) {
                    docToLoad = matchingDoc.path;
                    navItem = document.querySelector(`#doc-nav a[data-path="${docToLoad}"]`);
                }
            }
            
            // Load the document and mark as active
            loadMarkdown(docToLoad);
            if (navItem) {
                navItem.classList.add('font-bold', 'bg-neutral-200');
            }
        });

        // Function to enhance tokenomics document with diagrams and infographics
        function enhanceTokenomicsDocument() {
            console.log('Enhancing tokenomics document with diagrams...');
            
            // Apply book-like styling
            const content = document.getElementById('markdown-content');
            content.classList.add('book-layout');

            // Organize content into chapters
            const headings = content.querySelectorAll('h2');
            if (headings.length > 0) {
                // Wrap sections between h2s in chapter divs
                let currentHeading = headings[0];
                let chapterContent = document.createElement('div');
                chapterContent.className = 'book-chapter';
                
                currentHeading.parentNode.insertBefore(chapterContent, currentHeading);
                chapterContent.appendChild(currentHeading);
                
                let element = currentHeading.nextElementSibling;
                while (element) {
                    let nextElement = element.nextElementSibling;
                    
                    // If we hit another h2, create a new chapter
                    if (element.tagName === 'H2') {
                        chapterContent = document.createElement('div');
                        chapterContent.className = 'book-chapter';
                        element.parentNode.insertBefore(chapterContent, element);
                        chapterContent.appendChild(element);
                    } else if (chapterContent) {
                        chapterContent.appendChild(element);
                    }
                    
                    element = nextElement;
                }
            }

            // Add diagrams based on section content
            addServiceEscrowDiagram();
            addDisputeResolutionDiagram();
            addTokenDistributionChart();
            addTokenUtilityDiagram();
            
            // Add navigation between chapters
            addChapterNavigation();
        }

        // Check if the loaded content is tokenomics and enhance if needed
        function checkAndEnhanceContent() {
            const contentElem = document.getElementById('markdown-content');
            const h1 = contentElem.querySelector('h1');
            
            if (h1 && h1.innerText.includes('Service Escrow Tokenomic Model for the SVMAI Token')) {
                enhanceTokenomicsDocument();
            }
        }

        // Override the original loadMarkdown function to add our enhancement logic
        const originalLoadMarkdown = loadMarkdown;
        loadMarkdown = async function(path) {
            await originalLoadMarkdown(path);
            // Wait a bit for the markdown to render
            setTimeout(() => {
                checkAndEnhanceContent();
            }, 100);
        };

        // Functions to add specific diagrams
        function addServiceEscrowDiagram() {
            // Find the section about Service Escrow
            const escrowSection = findSection('Core Tokenomic Design: The SVMAI Service Escrow');
            if (!escrowSection) return;

            // Create diagram container
            const diagramContainer = document.createElement('div');
            diagramContainer.className = 'diagram-container';
            diagramContainer.innerHTML = `
                <div class="diagram-title">Service Escrow Process</div>
                <div class="diagram-description">Flow of tokens and interactions in the SVMAI service escrow model</div>
                <div class="chart-container">
                    <canvas id="serviceEscrowFlow"></canvas>
                </div>
            `;

            // Insert after the first paragraph in the section
            const firstPara = escrowSection.querySelector('p');
            if (firstPara) {
                firstPara.parentNode.insertBefore(diagramContainer, firstPara.nextSibling);
                
                // Create the flowchart
                const ctx = document.getElementById('serviceEscrowFlow').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Initial State', 'Service Agreed', 'In Progress', 'Approved', 'Disputed'],
                        datasets: [
                            {
                                label: 'Client Stake (Locked)',
                                data: [0, 100, 100, 0, 0],
                                backgroundColor: '#737373',
                                stack: 'client'
                            },
                            {
                                label: 'Client Stake (Available)',
                                data: [100, 0, 0, 100, 0],
                                backgroundColor: '#A3A3A3',
                                stack: 'client'
                            },
                            {
                                label: 'Agent Fee (Locked)',
                                data: [0, 100, 100, 0, 0],
                                backgroundColor: '#404040',
                                stack: 'agent'
                            },
                            {
                                label: 'Agent Fee (Available)',
                                data: [100, 0, 0, 100, 0],
                                backgroundColor: '#525252',
                                stack: 'agent'
                            },
                            {
                                label: 'Dispute Resolution',
                                data: [0, 0, 0, 0, 100],
                                backgroundColor: '#D4D4D4',
                                stack: 'dispute'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            x: {
                                stacked: true,
                                grid: {
                                    display: false
                                }
                            },
                            y: {
                                stacked: true,
                                title: {
                                    display: true,
                                    text: 'Token Allocation %'
                                },
                                max: 200
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    font: {
                                        family: "'Courier New', Courier, monospace"
                                    }
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    title: function(context) {
                                        return context[0].label + ' Phase';
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }

        function addDisputeResolutionDiagram() {
            // Find the section about Dispute Resolution
            const disputeSection = findSection('Dispute Resolution Framework for SVMAI');
            if (!disputeSection) return;

            // Create diagram container
            const diagramContainer = document.createElement('div');
            diagramContainer.className = 'diagram-container';
            diagramContainer.innerHTML = `
                <div class="diagram-title">Decentralized Dispute Resolution Process</div>
                <div class="diagram-description">Flow of a dispute through the DDR system</div>
                <div class="infographic-grid">
                    <div class="infographic-block">
                        <div class="infographic-block-title">1. Dispute Initiation</div>
                        <p>Client signals dissatisfaction and stakes SVMAI tokens to initiate dispute process</p>
                    </div>
                    <div class="infographic-block">
                        <div class="infographic-block-title">2. Evidence Submission</div>
                        <p>Both client and agent submit evidence and arguments to support their positions</p>
                    </div>
                    <div class="infographic-block">
                        <div class="infographic-block-title">3. Juror Selection</div>
                        <p>Random selection of jurors from the pool of SVMAI stakers based on stake size</p>
                    </div>
                    <div class="infographic-block">
                        <div class="infographic-block-title">4. Deliberation</div>
                        <p>Jurors review evidence and vote on an outcome based on merit</p>
                    </div>
                    <div class="infographic-block">
                        <div class="infographic-block-title">5. Resolution</div>
                        <p>Smart contract executes the outcome based on juror decision - payment, refund, or split</p>
                    </div>
                    <div class="infographic-block">
                        <div class="infographic-block-title">6. Appeal (Optional)</div>
                        <p>Dissatisfied party can appeal with additional stake for review by larger juror panel</p>
                    </div>
                </div>
            `;

            // Insert after the first paragraph
            const firstPara = disputeSection.querySelector('p');
            if (firstPara) {
                firstPara.parentNode.insertBefore(diagramContainer, firstPara.nextSibling);
            }
        }

        function addTokenDistributionChart() {
            // Find section about Economic Model
            const economicSection = findSection('Economic and Behavioral Impact Analysis');
            if (!economicSection) return;

            // Create diagram container
            const diagramContainer = document.createElement('div');
            diagramContainer.className = 'diagram-container';
            diagramContainer.innerHTML = `
                <div class="diagram-title">Value Flow in the SVMAI Ecosystem</div>
                <div class="diagram-description">How value and tokens circulate in the service escrow model</div>
                <div class="chart-container">
                    <canvas id="tokenEconomicsChart"></canvas>
                </div>
            `;

            // Insert after the first paragraph
            const firstPara = economicSection.querySelector('p');
            if (firstPara) {
                firstPara.parentNode.insertBefore(diagramContainer, firstPara.nextSibling);
                
                // Create the chart
                const ctx = document.getElementById('tokenEconomicsChart').getContext('2d');
                new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        labels: [
                            'Active Escrow Locks',
                            'DDR Juror Staking',
                            'Governance Staking',
                            'Platform Treasury',
                            'Circulating Supply'
                        ],
                        datasets: [{
                            data: [25, 20, 15, 10, 30],
                            backgroundColor: [
                                '#737373',
                                '#525252',
                                '#404040',
                                '#262626',
                                '#A3A3A3'
                            ],
                            borderColor: '#FFFFFF',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    font: {
                                        family: "'Courier New', Courier, monospace"
                                    }
                                }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return context.label + ': ' + context.raw + '%';
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }

        function addTokenUtilityDiagram() {
            // Find section about token utility
            const utilitySection = findSection('SVMAI Token Utility and Ecosystem Value');
            if (!utilitySection) return;

            // Create diagram container
            const diagramContainer = document.createElement('div');
            diagramContainer.className = 'diagram-container';
            diagramContainer.innerHTML = `
                <div class="diagram-title">SVMAI Token Utility Map</div>
                <div class="diagram-description">Core utilities and use cases for the SVMAI token</div>
                <div class="infographic-grid">
                    <div class="infographic-block">
                        <div class="infographic-block-title">Service Escrow</div>
                        <p>Primary medium for client stake and agent fee payments in the platform's escrow system</p>
                    </div>
                    <div class="infographic-block">
                        <div class="infographic-block-title">Dispute Resolution</div>
                        <p>Required for juror staking, dispute initiation fees, and appeal processes</p>
                    </div>
                    <div class="infographic-block">
                        <div class="infographic-block-title">Governance</div>
                        <p>Staking for voting rights on platform parameters and protocol updates</p>
                    </div>
                    <div class="infographic-block">
                        <div class="infographic-block-title">Platform Benefits</div>
                        <p>Access to premium features, reduced fees, or enhanced visibility for token holders</p>
                    </div>
                </div>
            `;

            // Insert after the first paragraph
            const firstPara = utilitySection.querySelector('p');
            if (firstPara) {
                firstPara.parentNode.insertBefore(diagramContainer, firstPara.nextSibling);
            }
        }

        // Helper function to find sections by heading text
        function findSection(headingText) {
            const headings = document.querySelectorAll('#markdown-content h2');
            for (let heading of headings) {
                if (heading.textContent.includes(headingText)) {
                    // Find the chapter div this heading is in
                    let section = heading.closest('.book-chapter');
                    if (!section) section = heading.parentNode;
                    return section;
                }
            }
            return null;
        }

        // Add chapter navigation links
        function addChapterNavigation() {
            const chapters = document.querySelectorAll('.book-chapter');
            if (chapters.length < 2) return;
            
            chapters.forEach((chapter, index) => {
                const navigation = document.createElement('div');
                navigation.className = 'book-nav';
                
                if (index > 0) {
                    const prevLink = document.createElement('a');
                    prevLink.href = '#';
                    prevLink.textContent = 'â Previous Chapter';
                    prevLink.onclick = (e) => {
                        e.preventDefault();
                        chapters[index - 1].scrollIntoView({ behavior: 'smooth' });
                    };
                    navigation.appendChild(prevLink);
                } else {
                    // Add an empty element to maintain flex spacing
                    const spacer = document.createElement('div');
                    navigation.appendChild(spacer);
                }
                
                if (index < chapters.length - 1) {
                    const nextLink = document.createElement('a');
                    nextLink.href = '#';
                    nextLink.textContent = 'Next Chapter â';
                    nextLink.onclick = (e) => {
                        e.preventDefault();
                        chapters[index + 1].scrollIntoView({ behavior: 'smooth' });
                    };
                    navigation.appendChild(nextLink);
                }
                
                chapter.appendChild(navigation);
            });
        }
    </script>
</body>
</html>